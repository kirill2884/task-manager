# README — TASK MANAGER (ASTRO + SVELTE)

## ОПИСАНИЕ ПРОЕКТА

Это тестовый проект **Task Manager**, использующий **Astro** с интеграцией **Svelte** для реализации динамических компонентов веб-приложения.  
Проект включает использование **MySQL** для хранения данных и **Redis** для кэширования.

## ОСНОВНОЙ ФУНКЦИОНАЛ

После запуска приложения на главной странице отображается таблица с задачами. Каждая строка таблицы содержит следующие поля:

- Title  
- Description  
- Priority  
- Due Date  
- Status  

А также кнопки управления: **Select**, **Complete** и **Delete**.

## ДОБАВЛЕНИЕ ЗАДАЧИ

Чтобы добавить новую задачу:

- Нажмите кнопку **Add Task** под таблицей.  
- Заполните поля в форме.  
- Нажмите кнопку подтверждения для сохранения задачи.

## РЕДАКТИРОВАНИЕ ЗАДАЧИ

Для редактирования существующей задачи:

- Нажмите кнопку **Select** напротив нужной задачи — она будет подсвечена.  
- Затем нажмите кнопку **Edit Task** под таблицей.  
- Отредактируйте поля в форме и подтвердите сохранение.

## ЗАВЕРШЕНИЕ ЗАДАЧИ

Чтобы отметить задачу как выполненную:

- Нажмите кнопку **Complete** напротив соответствующей задачи.  
- Статус изменится на `"Completed"`.

Также можно отметить задачу как выполненную при редактировании (см. раздел **Редактирование задачи**).

## УДАЛЕНИЕ ЗАДАЧИ

Чтобы удалить задачу:

- Нажмите кнопку **Delete** напротив нужной записи.  
- Подтвердите удаление во всплывающем окне.

## ФИЛЬТРАЦИЯ ЗАДАЧ

В верхней части таблицы находится фильтр. В текущей версии доступна фильтрация по:

- Priority  
- Status  

Чтобы применить фильтр:

- Выберите нужные значения из выпадающих списков.  
- Нажмите кнопку **Apply Filters**.

## ТРЕБОВАНИЯ

Для локального запуска проекта необходимо:

- **Node.js** версии 18 или выше  
- **npm** для установки зависимостей  
- **MySQL** для базы данных  
- **Redis** для кэширования  

## УСТАНОВКА

### 1. КЛОНИРОВАНИЕ РЕПОЗИТОРИЯ

    ```bash
    git clone https://github.com/kirill2884/task-manager.git
    cd <каталог_назначения>

### 2. УСТАНОВКА ЗАВИСИМОСТЕЙ

Для установки всех зависимостей, выполните следующую команду:

    ```bash
    npm install


## ВАЖНО

Для работы проекта необходима СУБД **MySQL** и **Redis**.  
Убедитесь, что **MySQL** и **Redis** работают локально, или используйте **Docker** (см. ниже).

## НАСТРОЙКА ПЕРЕМЕННЫХ ОКРУЖЕНИЯ

Для локального запуска необходим файл `.env` в корне проекта с необходимыми переменными:

- `DATABASE_URL` — адрес для доступа к MySQL базе данных  
  Пример: `mysql://root:rootpassword@localhost:3306/task-manager`
  
- `REDIS_URL` — адрес для доступа к Redis  
  Пример: `redis://localhost:6379`

- `PORT` — порт, на котором будет работать приложение (по умолчанию 3000)  
  Пример: `PORT=3001` (опционально)

## ЛОКАЛЬНЫЙ ЗАПУСК
1. Убедитесь, что **MySQL** и **Redis** запущены на вашем локальном компьютере.
2. Выполните миграцию базы данных с помощью команды:
   ```bash
   npx prisma migrate deploy


## ВАЖНО
Если вы вносили изменения в схему базы данных, используйте команду:

    ```bash
    npx prisma migrate dev

3. Запустите приложение:
    ```bash
    npm run dev

    После этого сервер будет доступен по адресу http://localhost:3000, если вы не указали другой порт в переменных среды.

## ЗАПУСК В DOCKER

1 Чтобы запустить проект в Docker:
2 Убедитесь, что у вас настроены переменные окружения в файле task_manager/docker-compose.yml.

3 Выполните команду:
    ```bash
    docker-compose up -d 

Контейнеры с MySQL, Redis и Task Manager будут созданы и запущены. 
Миграции базы данных будут автоматически применены при запуске контейнера.
После запуска контейнеров приложение будет доступно по порту, указанному в Docker-контейнере task-manager-container.

## ЗАПУСК ТЕСТОВ
Для запуска тестов используйте команду 
    ```bash
    npm run test